<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>OpenStack 101 Workshop | Damien Lederer</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="OpenStack 101 Workshop" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Links and blog posts and stuff" />
<meta property="og:description" content="Links and blog posts and stuff" />
<link rel="canonical" href="https://ledererd.github.io/openstack16-101-workshop/" />
<meta property="og:url" content="https://ledererd.github.io/openstack16-101-workshop/" />
<meta property="og:site_name" content="Damien Lederer" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="OpenStack 101 Workshop" />
<script type="application/ld+json">
{"headline":"OpenStack 101 Workshop","description":"Links and blog posts and stuff","url":"https://ledererd.github.io/openstack16-101-workshop/","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://mattparko.github.io/feed.xml" title="Damien Lederer" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Damien Lederer</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/openstack16-101-workshop/">OpenStack 101 Workshop</a><a class="page-link" href="/about/">About</a><a class="page-link" href="/">Home</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">OpenStack 101 Workshop</h1>
  </header>

  <div class="post-content">
    <h1>Exercise 1 - Looking around</h1>

    <p>By now you should be logged into the <i>Bastion host</i> in a terminal.  Not much runs on the bastion host, so we'll first <i>ssh</i> somewhere more interesting.</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[student@workstation-f3db ~]$ ssh stack@undercloud.example.com
</code></pre></div></div>
<p>You should now be logged into the undercloud workstation.</p>
    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Activate the web console with: systemctl enable --now cockpit.socket

This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register

Last login: Sun Oct 10 06:04:03 2021 from 192.0.2.252
[stack@undercloud ~]$
</code></pre></div></div>

<p>The <i>undercloud</i> is a small instance of OpenStack that runs the <i>Director</i>.  The <i>undercloud</i> contains the necessary components of OpenStack to deploy and manage an <i>overcloud</i>, which is where the workloads run.</p>

<p>We will not cover the <i>undercloud</i> in this workshop.  This workshop is designed to give you a small taste of running a workload in <b>OpenStack</b>, and therefore will be dealing exclusively with the <i>overcloud</i>.  So let's switch to that.</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[stack@undercloud ~]$ source ~/overcloudrc
(overcloud) [stack@undercloud ~]$
</code></pre></div></div>

<p>Let's look around the overcloud for a minute.</p>
<p><i>Projects</i> in OpenStack are organisational units in the cloud to which you can assign users.  A project is created for each set of instances and networks that are configured as a discrete entity for the project.  Projects are therefore restricted views into OpenStack resources.  We have set up a project for each user in the lab:</p>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(overcloud) [stack@undercloud ~]$ openstack project list
+----------------------------------+---------------+
| ID                               | Name          |
+----------------------------------+---------------+
| 125a825e987c40309a1ce4f8f16a0859 | admin         |
| 239f015f3d264e3595b9fe18f9120110 | user7project  |
| 3efbd4c99a6e4a49a9a32ce371bfeefd | user8project  |
| 4eb7f64b9d0d4429952b945648044bac | user3project  |
| 62495357e0b243c3a46d6e4f5af150f5 | user4project  |
| 8a108c059bd940d78c6ac3c2cda22e16 | user5project  |
| ca51b4bb1b554f0c892ce31327505af1 | user9project  |
| d0130e333e11477a9cb331ffbd6cf218 | user10project |
| d47243d6438e4a969554d916813323d0 | user6project  |
| d88c6df92a0a4020915c595032bcd379 | user1project  |
| da48abd02a3d41ed94717457795d9512 | service       |
| f644255cdea9482ba50da6d3c8b0c5f3 | user2project  |
+----------------------------------+---------------+
</code></pre></div></div>

<p>We'll switch to your project in a second.  But first, let's continue to explore.  The lab is also set up with a public network:</p>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(overcloud) [stack@undercloud ~]$ openstack network list
+--------------------------------------+-------------+--------------------------------------+
| ID                                   | Name        | Subnets                              |
+--------------------------------------+-------------+--------------------------------------+
| 019f687e-667e-4db2-9403-aa2a5b12dd51 | public      | b3af55a2-6f0a-4b23-b5f8-ff111adbbc76 |
| 0202c63a-c446-414b-a1cc-2b11158bda9f | lb-mgmt-net | fdecae96-6d3c-492e-87fa-6531c3c845a1 |
+--------------------------------------+-------------+--------------------------------------+
</code></pre></div></div>

<p>The public network is attached to the underlying phsyical provider network, and therefore is the bridge outside of the cluster.</p>
<p>There is a public subnet (attached to the <i>public</i> network) created in the range <i>10.0.0.0/24</i>:</p>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(overcloud) [stack@undercloud ~]$ openstack subnet list
+--------------------------------------+----------------+--------------------------------------+---------------+
| ID                                   | Name           | Network                              | Subnet        |
+--------------------------------------+----------------+--------------------------------------+---------------+
| b3af55a2-6f0a-4b23-b5f8-ff111adbbc76 | public-subnet  | 019f687e-667e-4db2-9403-aa2a5b12dd51 | 10.0.0.0/24   |
| fdecae96-6d3c-492e-87fa-6531c3c845a1 | lb-mgmt-subnet | 0202c63a-c446-414b-a1cc-2b11158bda9f | 172.24.0.0/16 |
+--------------------------------------+----------------+--------------------------------------+---------------+
</code></pre></div></div>
<p>All public-facing IP address (ie, address that you can ping) created in this lab will be created in this 10.0.0.X network.</p>
<p>You can list the current instances:</p>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(overcloud) [stack@undercloud ~]$ openstack server list

(overcloud) [stack@undercloud ~]$
</code></pre></div></div>
<p>Notice that this list is currently empty because there are no instances at this point.</p>
<p>We can list the compute nodes that your instances will land on when we create them:</p>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(overcloud) [stack@undercloud ~]$ openstack hypervisor list
+--------------------------------------+-------------------------------------+-----------------+--------------+-------+
| ID                                   | Hypervisor Hostname                 | Hypervisor Type | Host IP      | State |
+--------------------------------------+-------------------------------------+-----------------+--------------+-------+
| f73c35e2-2152-47b1-b387-1801dd4aa4f7 | overcloud-novacompute-1.localdomain | QEMU            | 172.17.0.212 | up    |
| 422da7d9-de7f-4ca4-92ea-40a1c20fb0cf | overcloud-novacompute-0.localdomain | QEMU            | 172.17.0.211 | up    |
+--------------------------------------+-------------------------------------+-----------------+--------------+-------+
</code></pre></div></div>

<p>When you create an <i>instance</i>, the resources allocated to the instance is determined by the <i>flavor</i> used to create it.  The lab already has a flavor set up for you:</p>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(overcloud) [stack@undercloud ~]$ openstack flavor list
+--------------------------------------+---------+-----+------+-----------+-------+-----------+
| ID                                   | Name    | RAM | Disk | Ephemeral | VCPUs | Is Public |
+--------------------------------------+---------+-----+------+-----------+-------+-----------+
| 0ba4fe89-115b-4af5-a6ea-52fccff31f62 | m1.nano | 128 |    1 |         0 |     1 | True      |
+--------------------------------------+---------+-----+------+-----------+-------+-----------+
</code></pre></div></div>
<p>You'll notice that this flavor was created in the <i>admin</i> project and set up as <i>Public</i>.  Therefore it is visible from all projects.</p>


<p><a href="setup.html">Previous Exercise</a> / <a href="exercise02.html">Next Exercise</a></p>


  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Damien Lederer</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Damien Lederer</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/ledererd"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">ledererd</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Links and blog posts and stuff</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
